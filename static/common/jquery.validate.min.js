/*
 @ Name：jQuery表单验证插件
 @ Author：前端老徐
 @ Date：2015/11/20
 @ GitHub:https://github.com/waihaolaoxu
 @ Address:http://www.loveqiao.cn/dom/plugin/validate.html
 */
!function(a){a.fn.validate=function(b){function f(){var d,b=a(this).attr("validate").split("|"),c=b.length;for(d=0;c>d;d++)if(e.hasOwnProperty(b[d])&&0==e[b[d]](a(this)))return!1}function g(){var b=!0;return a(this).find("[validate]").each(function(a,d){return 0==f.call(d)&&(b=!1,c)?!1:void 0}),b&&d.flag&&d.id.val(d.txt),b}var c=b.isone?!0:!1,d={flag:!1,id:a(this).find("input[type='submit']"),txt:"提交中..."},e={required:function(a){return""==a.val()||0==a.val()?(_error(a,"required"),!1):void 0},email:function(a){var b=/^\w+@([0-9a-zA-Z]+[.])+[a-z]{2,4}$/,c=a.val();return c&&!b.test(c)?(_error(a,"email"),!1):void 0},tel:function(a){var b=/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,8}$/,c=a.val();return c&&!b.test(c)?(_error(a,"tel"),!1):void 0},phone:function(a){var b=/^1[3|5|8|7]\d{9}$/,c=a.val();return c&&!b.test(c)?(_error(a,"phone"),!1):void 0},number:function(a){var b=a.val();return b&&isNaN(a.val())?(_error(a,"number"),!1):void 0},idcard:function(a){var b=/(^\d{15}$)|(^\d{17}([0-9]|X|x)$)/,c=a.val();return c&&!b.test(c)?(_error(a,"idcard"),!1):void 0}};return messages={required:"不能为空！",email:"格式不正确！",tel:"格式不正确！",phone:"格式不正确！",number:"请输入数字！",idcard:"格式不正确"},b&&(b.messages&&(messages=a.extend(messages,b.messages)),b.validate&&(e=a.extend(e,b.validate)),b.submitBtn&&(d=a.extend(d,b.submitBtn))),_error=function(a,c){return b.error?(b.error(a,messages[c]),void 0):(alert(messages[c]),void 0)},g.call(this)}}(jQuery);